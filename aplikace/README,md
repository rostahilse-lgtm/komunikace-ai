# ğŸ“± Evidence prÃ¡ce - PWA Aplikace

## ğŸ“¦ INSTALACE

### KROK 1: NahrÃ¡nÃ­ Apps Script

1. OtevÅ™i Google Sheet: https://docs.google.com/spreadsheets/d/1OMSWRrn2aBHMItjx4Vu0Syn4PII8F1uw-GSWEuaoZGo/edit
2. Klikni na **RozÅ¡Ã­Å™enÃ­** â†’ **Apps Script**
3. ZkopÃ­ruj **celÃ½ obsah** souboru `Code.gs` z tohoto repozitÃ¡Å™e
4. VloÅ¾ ho do Apps Script editoru (pÅ™epiÅ¡ veÅ¡kerÃ½ stÃ¡vajÃ­cÃ­ kÃ³d)
5. Klikni na **ğŸ’¾ UloÅ¾it** (Ctrl+S)
6. Klikni na **ğŸš€ Nasadit** â†’ **NovÃ© nasazenÃ­**
7. Vyber typ: **WebovÃ¡ aplikace**
8. Nastav:
   - **Popis:** Evidence prÃ¡ce PWA v1
   - **Spustit jako:** JÃ¡
   - **Kdo mÃ¡ pÅ™Ã­stup:** Kdokoli
9. Klikni **Nasadit**
10. **DÅ®LEÅ½ITÃ‰:** ZkopÃ­ruj **URL webovÃ© aplikace** (konÄÃ­ na `/exec`)

---

### KROK 2: Konfigurace PWA aplikace

1. OtevÅ™i soubor `index.html`
2. Najdi Å™Ã¡dek s `API_URL` (cca Å™Ã¡dek 34):
   ```javascript
   const API_URL = 'https://script.google.com/macros/s/...../exec';
   ```
3. NahraÄ URL tÃ­m, co jsi zkopÃ­roval v KROKU 1
4. UloÅ¾ soubor

---

### KROK 3: NahrÃ¡nÃ­ na Netlify

#### MoÅ¾nost A: PÅ™es GitHub (doporuÄeno)

1. Nahraj vÅ¡echny soubory do tvÃ©ho GitHub repo: `rostahilse-lgtm/komunikace-ai`
2. PÅ™ihlas se na https://app.netlify.com
3. Klikni **New site from Git**
4. Vyber **GitHub** â†’ vyber svoje repo
5. Nastav:
   - **Branch:** main
   - **Build command:** (nech prÃ¡zdnÃ©)
   - **Publish directory:** `docs/aplikace` (nebo kde mÃ¡Å¡ index.html)
6. Klikni **Deploy site**
7. PoÄkej 1-2 minuty
8. Hotovo! MÃ¡Å¡ URL typu: `https://xxx-yyy-zzz.netlify.app`

#### MoÅ¾nost B: RuÄnÃ­ nahrÃ¡nÃ­

1. PÅ™ihlas se na https://app.netlify.com
2. PÅ™etÃ¡hni `index.html` na strÃ¡nku (drag & drop)
3. Hotovo!

---

### KROK 4: Instalace na mobil jako PWA

1. OtevÅ™i aplikaci v mobilu (Chrome/Safari)
2. Na Androidu: **3 teÄky** â†’ **PÅ™idat na plochu**
3. Na iOS: **SdÃ­let** â†’ **PÅ™idat na plochu**
4. Hotovo! Aplikace se chovÃ¡ jako normÃ¡lnÃ­ aplikace

---

## ğŸ¯ TESTOVÃNÃ

### Test pÅ™ihlÃ¡Å¡enÃ­:
1. OtevÅ™i aplikaci
2. Zadej kÃ³d pracovnÃ­ka (napÅ™. `99889988`)
3. MÄ›l by ses pÅ™ihlÃ¡sit

### Test zÃ¡pisu smÄ›ny:
1. Klikni **PÅ˜ÃCHOD** â†’ uloÅ¾Ã­ se Äas
2. Klikni **ODCHOD** â†’ uloÅ¾Ã­ se Äas
3. Vyber zakÃ¡zku a prÃ¡ci
4. Klikni **UloÅ¾it smÄ›nu**
5. Zkontroluj v Google Sheets â†’ list "zÃ¡znamy"

### Test obÄ›da:
1. ZÃ¡loÅ¾ka **ObÄ›d**
2. Klikni **UloÅ¾it obÄ›d**
3. Zkontroluj v Google Sheets â†’ list "zÃ¡lohy" (mÄ›la by bÃ½t cena podle obdobÃ­)

### Test pÅ™ehledÅ¯:
1. SpodnÃ­ navigace â†’ **PÅ™ehledy**
2. Vyber obdobÃ­
3. Klikni **NaÄÃ­st pÅ™ehled**
4. MÄ›l by se zobrazit pÅ™ehled hodin, vÃ½dÄ›lku a zÃ¡loh

---

## ğŸ”§ STRUKTURA PROJEKTU

```
ğŸ“ komunikace-ai/
â”œâ”€â”€ ğŸ“ docs/
â”‚   â”œâ”€â”€ ğŸ“ aplikace/
â”‚   â”‚   â”œâ”€â”€ index.html      â† PWA aplikace
â”‚   â”‚   â””â”€â”€ manifest.json   â† PWA manifest (volitelnÃ©)
â”‚   â””â”€â”€ ğŸ“ konverzace/
â”‚       â””â”€â”€ souhrn.md       â† Souhrn projektu
â””â”€â”€ Code.gs                 â† Apps Script
```

---

## ğŸ› Å˜EÅ ENÃ PROBLÃ‰MÅ®

### "Chyba pÅ™ipojenÃ­"
- Zkontroluj URL v `API_URL` (musÃ­ konÄit na `/exec`)
- Zkontroluj, Å¾e je Apps Script nasazenÃ½ jako "WebovÃ¡ aplikace"
- Zkontroluj, Å¾e mÃ¡ pÅ™Ã­stup "Kdokoli"

### "NeplatnÃ½ kÃ³d pracovnÃ­ka"
- Zkontroluj, Å¾e pracovnÃ­k existuje v Google Sheets â†’ list "pracovnÃ­ci"
- Zkontroluj, Å¾e mÃ¡ sloupec C = "Y" (aktivnÃ­)

### "Duplicate record"
- ZÃ¡znam uÅ¾ existuje (ochrana proti duplikÃ¡tÅ¯m)
- Je to OK - zÃ¡znam se neuloÅ¾Ã­ 2x

### Aplikace se nenaÄÃ­tÃ¡
- VyÄisti cache prohlÃ­Å¾eÄe (Ctrl+Shift+Del)
- Zkus incognito reÅ¾im
- Zkontroluj konzoli (F12) - podÃ­vej se na chyby

---

## ğŸ“± FUNKCE APLIKACE

### âœ… HotovÃ© funkce:
- [x] PÅ™ihlÃ¡Å¡enÃ­ pomocÃ­ kÃ³du pracovnÃ­ka
- [x] TlaÄÃ­tka PÅ˜ÃCHOD / ODCHOD
- [x] ZÃ¡pis smÄ›ny (zakÃ¡zka + prÃ¡ce)
- [x] ZÃ¡pis obÄ›da (automatickÃ¡ cena podle obdobÃ­)
- [x] ZÃ¡pis zÃ¡lohy
- [x] FinanÄnÃ­ pÅ™ehledy
- [x] Historie zÃ¡znamÅ¯
- [x] Kontrola duplikÃ¡tÅ¯
- [x] PWA instalace na mobil

### ğŸ”œ PlÃ¡novanÃ© funkce:
- [ ] Admin zÃ¡loÅ¾ka (sprÃ¡va zakÃ¡zek, pracovnÃ­kÅ¯)
- [ ] Editace zÃ¡znamÅ¯
- [ ] Offline reÅ¾im
- [ ] Notifikace

---

## ğŸ“ KONTAKT

- **Autor pÅ¯vodnÃ­ho scriptu:** Ing. Pavel KÅ™Ã­Å¾ (ing.pavel.kriz@gmail.com)
- **PWA aplikace:** Upraveno pro mobilnÃ­ pouÅ¾itÃ­ (2025)
- **GitHub:** https://github.com/rostahilse-lgtm/komunikace-ai

---

## ğŸ“„ LICENCE

PÅ¯vodnÃ­ Apps Script Â© 2025 Ing. Pavel KÅ™Ã­Å¾
PWA aplikace je rozÅ¡Ã­Å™enÃ­m pÅ¯vodnÃ­ aplikace.
