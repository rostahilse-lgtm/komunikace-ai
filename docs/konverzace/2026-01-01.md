# ğŸ“± Konverzace 2026-01-01 - Opravy PWA aplikace

**Datum:** 1. ledna 2026  
**Projekt:** Evidence prÃ¡ce - PWA aplikace  
**Status:** ProbÃ­hajÃ­cÃ­ Ãºpravy

---

## ğŸ¯ CO JSME DNES Å˜EÅ ILI

### 1. Kontrola GitHub struktury
- âœ… Aplikace je nahranÃ¡ na GitHub
- âœ… Apps Script je nasazenÃ½
- âœ… Aplikace bÄ›Å¾Ã­ na Netlify

### 2. ProblÃ©my kterÃ© jsme objevili
- âŒ **ZobrazujÃ­ se ÄÃ­sla mÃ­sto nÃ¡zvÅ¯** - v zakÃ¡zkÃ¡ch a pracÃ­ch
- âŒ **ObÄ›dy se zapisujÃ­, ale nejsou vidÄ›t v zÃ¡lohÃ¡ch**
- âŒ **ChybÃ­ admin funkce**
- âš ï¸ **PotÅ™eba rozdÄ›lit kÃ³d na menÅ¡Ã­ ÄÃ¡sti** (kvÅ¯li tokenÅ¯m)

### 3. Co jsme opravili
- âœ… PÅ™idal jsem funkce `getContractName()` a `getJobName()`
- âœ… PÅ™idal jsem pole pro poznÃ¡mku u smÄ›ny
- âœ… VylepÅ¡il jsem pÅ™ehledy (hodiny, sazba, vÃ½dÄ›lek)
- âœ… Opravil jsem zobrazenÃ­ finanÄnÃ­ch pÅ™ehledÅ¯

---

## ğŸ› SOUÄŒASNÃ‰ PROBLÃ‰MY

### ProblÃ©m 1: ÄŒÃ­sla mÃ­sto nÃ¡zvÅ¯
**Stav:** NovÄ› nahranÃ½ index.html by mÄ›l zobrazovat nÃ¡zvy  
**Test potÅ™ebnÃ½:** Zkontrolovat po nahrÃ¡nÃ­

### ProblÃ©m 2: ObÄ›dy nejsou v zÃ¡lohÃ¡ch
**MoÅ¾nÃ¡ pÅ™Ã­Äina:** Apps Script funkce `setPaymentRequestLunch()` nepÅ™idÃ¡vÃ¡ sprÃ¡vnÃ½ Å™Ã¡dek  
**Å˜eÅ¡enÃ­:** Zkontrolovat strukturu dat

### ProblÃ©m 3: Struktura Google Sheets
**PoznÃ¡mka uÅ¾ivatele:** "KdyÅ¾ zkopÃ­ruji nÃ¡zvy z B do A, tak v pracÃ­ch to bylo dvakrÃ¡t vedle sebe"  
**VysvÄ›tlenÃ­:** Sloupec A obsahuje ID, sloupec B nÃ¡zvy. NesmÃ­ se pÅ™episovat!

---

## ğŸ“‹ STRUKTURA GOOGLE SHEETS (SPRÃVNÃ)

### List "zakÃ¡zky"
```
A: ID zakÃ¡zky  (0014, 0001, ...)
B: NÃ¡zev       (Hala, BazÃ©n, ...)
C: AktivnÃ­     (Y/N)
```

### List "prÃ¡ce"
```
A: ID prÃ¡ce    (363236, 0001, ...)
B: NÃ¡zev       (malovÃ¡nÃ­, folie, ...)
C: AktivnÃ­     (Y/N)
```

### List "zÃ¡lohy"
```
A: id_worker
B: time (ms)
C: name_worker
D: date
E: payment (ÄÃ¡stka)
F: payment_reason (dÅ¯vod nebo "obÄ›d")
```

---

## ğŸ”§ DALÅ Ã KROKY

### PRIORITA 1: Test novÃ©ho index.html
1. NahrÃ¡t novÃ½ index.html na Netlify
2. Otestovat zobrazenÃ­ nÃ¡zvÅ¯
3. Otestovat zÃ¡pis obÄ›da

### PRIORITA 2: Oprava obÄ›dÅ¯
Pokud se obÄ›dy nezapisujÃ­ sprÃ¡vnÄ›, upravit Apps Script

### PRIORITA 3: Admin funkce
- SprÃ¡va zakÃ¡zek
- SprÃ¡va pracovnÃ­kÅ¯
- SprÃ¡va pracÃ­

### PRIORITA 4: RozdÄ›lenÃ­ kÃ³du
RozdÄ›lit index.html na moduly:
- `app.js` - logika
- `api.js` - komunikace s API
- `ui.js` - UI komponenty

---

## ğŸ“‚ SOUBORY

### AktuÃ¡lnÃ­ verze:
- **Apps Script:** Code.gs (verze 007)
- **PWA aplikace:** index.html (oprava 1 - zobrazenÃ­ nÃ¡zvÅ¯)
- **API URL:** https://script.google.com/macros/s/.../exec

### GitHub struktura:
```
komunikace-ai/
â”œâ”€â”€ aplikace/
â”‚   â”œâ”€â”€ Code.gs
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ README.md
â””â”€â”€ docs/
    â””â”€â”€ konverzace/
        â””â”€â”€ (zde uklÃ¡dat dalÅ¡Ã­ konverzace)
```

---

## ğŸ’¬ DOTAZY UÅ½IVATELE

1. **Jak uklÃ¡dat konverzace na GitHub?**
2. **Jak nahrÃ¡vat screenshoty?**
3. **Jak rozdÄ›lit kÃ³d aby neÅ¾ral tokeny?**
4. **ProÄ se zobrazujÃ­ ÄÃ­sla mÃ­sto nÃ¡zvÅ¯?**
5. **ProÄ nejsou vidÄ›t obÄ›dy v zÃ¡lohÃ¡ch?**

---

## ğŸ“ POZNÃMKY

- UÅ¾ivatel mÃ¡ aplikaci funkÄnÃ­
- PÅ™ihlÃ¡Å¡enÃ­ funguje
- ZÃ¡pis smÄ›n funguje
- ZÃ¡lohy fungujÃ­
- ObÄ›dy se zapisujÃ­, ale nejsou vidÄ›t (potÅ™eba zkontrolovat)
- PÅ™ehledy fungujÃ­ ÄÃ¡steÄnÄ›

---

## ğŸ”— ODKAZY

- **Netlify:** https://dazzling-truffle-43a3ab.netlify.app
- **Google Sheet:** https://docs.google.com/spreadsheets/d/1OMSWRrn2aBHMItjx4Vu0Syn4PII8F1uw-GSWEuaoZGo/edit
- **GitHub:** https://github.com/rostahilse-lgtm/komunikace-ai

---

**Konec zÃ¡lohy konverzace**  
**VytvoÅ™eno:** 1. 1. 2026  
**Pro pokraÄovÃ¡nÃ­:** OtevÅ™i tuto konverzaci a Å™ekni "PokraÄujme podle zÃ¡lohy 2026-01-01"
